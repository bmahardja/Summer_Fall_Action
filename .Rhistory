pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id))+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.15, nudge_y = 0.15)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.05, nudge_y = 0.05)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
View(vec)
#Read in Yolo files
yolo <- st_read(file.path(data_root,"Map/YoloBypass_ShapeFiles/Yolo Bypass Extent","Yolo_Bypass.shp"))
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(label="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf_text(data = yolo,aes(text="Yolo Bypass"))
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf_text(data = yolo,aes(label="Yolo Bypass"))
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.2)+
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black',aes(text="Yolo Bypass")) +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
ggthemes::theme_map() +
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
annotation_north_arrow(location = "tr", which_north = "true",
pad_y = unit(1.0, "in"),
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "tr", width_hint = 0.5)+
ggthemes::theme_map() +
theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
#annotation_north_arrow(location = "tr", which_north = "true",
#                       pad_y = unit(1.0, "in"),
#                       style = north_arrow_fancy_orienteering) +
#annotation_scale(location = "tr", width_hint = 0.5)+
ggthemes::theme_map() +
#theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
#Create the map figure
cv_map<-ggplot() + theme_bw()+
geom_sf(data = sac, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sac_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = sj, fill = 'grey', lwd = 0.5, color='black') + geom_sf(data = sj_down, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yuba, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = DeltaSubregionsWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = CountyWater, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = bay, fill = 'grey', lwd = 0.5, color='black') +
geom_sf(data = yolo, fill = 'purple', alpha=0.3,lwd = 0.5, color='black') +
geom_sf(data=df.SP,color="red",size=2) + geom_sf_label(data=df.SP,aes(label = station_id),nudge_x = 0.01, nudge_y = 0.01)+
coord_sf(xlim = c(-121.75, -121.5), ylim = c(38.1, 38.5),crs=crsLONGLAT)  +
#annotation_north_arrow(location = "tr", which_north = "true",
#                       pad_y = unit(1.0, "in"),
#                       style = north_arrow_fancy_orienteering) +
#annotation_scale(location = "tr", width_hint = 0.5)+
ggthemes::theme_map()
#theme(plot.tag= element_text(size=20, color="black"), axis.text.x = element_text(size=16, color="black"),axis.text.y = element_text(size=16, color="black"),axis.title.x=element_blank(),axis.title.y=element_blank())
cv_map
# Print map
tiff(filename=file.path(output_root,"Figure_Stations_Map_NDFA.png"),
type="cairo",
units="in",
width=6*1,
height=11*1,
pointsize=18,
res=450, compression="lzw")
cv_map
dev.off()
install.packages("usethis")
library(usethis)
use_git_config(user.name = "bmahardja", user.email = "brianmahardja@gmail.com")
#Path to local drive
root <- "~/GitHub/Summer_Fall_Action"
setwd(root)
data_root<-file.path(root,"data-raw")
code_root <- file.path(root,"R")
output_root <- file.path(root,"output")
#################### Read dayflow data
data_dayflow_1970_1983<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1970-1983.csv"))
data_dayflow_1984_1996<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1984-1996.csv"))
data_dayflow_1997_2020<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1997-2020.csv"))
output_root <- file.path(root,"output")
#################### Read dayflow data
data_dayflow_1970_1983<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1970-1983.csv"))
data_dayflow_1984_1996<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1984-1996.csv"))
data_dayflow_1997_2020<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1997-2020.csv"))
#Check column names
#str(data_dayflow_1970_1983)
#str(data_dayflow_1984_1996)
#str(data_dayflow_1997_2020)
#EXPORTS for 1996 and before, EXPORT for the 1997-2020 data
#Change column name to match
data_dayflow_1997_2020$EXPORT<-data_dayflow_1997_2020$EXPORTS
#More columns that don't match, but it doesn't matter for now since we're only interested in OUT, EXPORT, and X2
data_dayflow<-bind_rows(data_dayflow_1970_1983,data_dayflow_1984_1996,data_dayflow_1997_2020)
#convert date column to date
data_dayflow$Date <- as.Date(data_dayflow$Date,"%m/%d/%Y")
#Calculate X2 based on DAYFLOW documentation:
###
#The 1994 Bay-Delta agreement established standards for salinity in the estuary.
#Specifically, the standards determine the degree to which salinity is allowed
#to penetrate up-estuary, with salinity to be controlled through delta outflow.
#Path to local drive
root <- "~/GitHub/Summer_Fall_Action"
setwd(root)
data_root<-file.path(root,"data-raw")
code_root <- file.path(root,"R")
output_root <- file.path(root,"output")
#################### Read dayflow data
data_dayflow_1970_1983<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1970-1983.csv"))
data_dayflow_1984_1996<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1984-1996.csv"))
data_dayflow_1997_2020<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1997-2020.csv"))
#Check column names
#str(data_dayflow_1970_1983)
#str(data_dayflow_1984_1996)
#str(data_dayflow_1997_2020)
#EXPORTS for 1996 and before, EXPORT for the 1997-2020 data
#Change column name to match
data_dayflow_1997_2020$EXPORT<-data_dayflow_1997_2020$EXPORTS
#More columns that don't match, but it doesn't matter for now since we're only interested in OUT, EXPORT, and X2
data_dayflow<-bind_rows(data_dayflow_1970_1983,data_dayflow_1984_1996,data_dayflow_1997_2020)
#convert date column to date
data_dayflow$Date <- as.Date(data_dayflow$Date,"%m/%d/%Y")
library(tidyverse)
library(lubridate)
library(grid)
library(gridExtra)
library(gtable)
#Path to local drive
root <- "~/GitHub/Summer_Fall_Action"
setwd(root)
data_root<-file.path(root,"data-raw")
code_root <- file.path(root,"R")
output_root <- file.path(root,"output")
#################### Read dayflow data
data_dayflow_1970_1983<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1970-1983.csv"))
data_dayflow_1984_1996<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1984-1996.csv"))
data_dayflow_1997_2020<-read.csv(file.path(data_root, "Dayflow", "dayflow-results-1997-2020.csv"))
#Check column names
#str(data_dayflow_1970_1983)
#str(data_dayflow_1984_1996)
#str(data_dayflow_1997_2020)
#EXPORTS for 1996 and before, EXPORT for the 1997-2020 data
#Change column name to match
data_dayflow_1997_2020$EXPORT<-data_dayflow_1997_2020$EXPORTS
#More columns that don't match, but it doesn't matter for now since we're only interested in OUT, EXPORT, and X2
data_dayflow<-bind_rows(data_dayflow_1970_1983,data_dayflow_1984_1996,data_dayflow_1997_2020)
#convert date column to date
data_dayflow$Date <- as.Date(data_dayflow$Date,"%m/%d/%Y")
View(data_dayflow)
#Locate end row for 196 WY data (with no X2 data)
which(data_dayflow$Date=="1996-09-30")
which(data_dayflow$Date=="1996-09-30"):1
#Fill in X2 data for older WY data
for (i in which(data_dayflow$Date=="1996-09-30"):1) {
data_dayflow$X2[i] <- (data_dayflow$X2[i+1] - 10.16 + 1.487*log10(data_dayflow$OUT[i+1]))/0.945
}
warnings()
View(data_dayflow)
data_dayflow$OUT[9862+1]
data_dayflow$OUT[9863]
